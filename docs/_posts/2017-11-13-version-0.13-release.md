---
title: React4j 0.13 released
type: minor
---

[Full Changelog](https://github.com/realityforge/react4j/compare/v0.12...v0.13)

Changes in this release:

##### Added
* **\[dom\]** Add `ReactDOM.createPortal()` method to support React 16 portals.
* **\[extras\]** Add an "extras" module that will contain non-core utilities and components that are useful across
  a broad range of applications. Over time as React4J stabilizes it is expected that they will migrate out to be
  managed externally. Until then it is a useful place for the components and utilities to live while they co-evolve.
* **\[extras\]** Add the `WindowPortal` component that creates a portal to a new top level window.
* **\[core\]** Add initial support for Reacts concept of "Context". React4j supports writing context consumer
  components as well as context provider components.

##### Fixed
* ðŸ’¥ **\[core\]** Make sure the type of `ReactElementChildren` does not imply a prototype.
* ðŸ’¥ **\[dom\]** Make sure the type of `DOMElement` does not imply a prototype.
* ðŸ’¥ **\[core\]** Add support for representing numbers as instances of `ReactNode`.

##### Changed
* ðŸ’¥ **\[core\]** Make `ReactElement` implement the `ReactNode` interface to simplify code base.
* ðŸ’¥ **\[dom\]** Change the DOM factory to accept and return instances of `ReactNode` rather than `ReactElement`.
* ðŸ’¥ **\[dom\]** Change children parameter of `ReactDOM.createElement()` to be a `ReactNode`.
* ðŸ’¥ **\[dom\]** Change element parameter of `ReactDOM.render()` to be a `ReactNode` so can render arbitrary nodes
  such as strings, portals etc.
* ðŸ’¥ **\[dom\]** Explicitly type the containers in `ReactDOM` as Elemental2 `Element` instances.
* ðŸ’¥ **\[dom\]** Add nullability annotations in `ReactDOM` to document expected behaviour.
* ðŸ’¥ **\[dom\]** Rewrote `ReactDOM.render(ReactNode,Element)` as an overlay method.
* ðŸ’¥ **\[dom\]** Rewrote `ReactDOM` and javadocs to align with the official React documentation except where it
  is less precise where actual behaviour was documented.
* ðŸ’¥ **\[core\]** Upgrade to react 16.1.0.
* **\[dom\]** Move the react-specific `@JsOverlay` methods into `HtmlGlobalFields` parent class rather than
  duplicating them in every subclass.
* **\[dom\]** Move the global html props `@JsOverlay` methods into `HtmlGlobalFields` parent class rather than
  duplicating them in every subclass. This includes the methods: `accessKey`, `className`, `contentEditable`,
  `contextMenu`, `dir`, `draggable`, `hidden`, `id`, `lang`, `style`, `spellcheck`, `tabIndex`, `title` and
  `translate`.
* **\[dom\]** Add nullability annotations for event handlers in html props classes.
* ðŸ’¥ **\[dom\]** Change the non-fluent setters in `HtmlGlobalFields` to be protected access. The goal is to encourage
  the creation of fluent setters for all setters that are actually used.
* ðŸ’¥ **\[dom\]** Change the event handlers on `LabelProps` to use camel case rather than pascal case. i.e. Rename the
  fluent event handlers from `OnX` to `onX`
* ðŸ’¥ **\[core\]** Move `react.dom.RefConsumer` to `react.core.RefConsumer`.
* ðŸ’¥ **\[core\]** Remove support for string refs as they are deprecated in React js and slated for removal.
* ðŸ’¥ **\[core\]** Remove `ReactRefCallback` and replace it with `RefConsumer`.
* ðŸ’¥ **\[core\]** Remove `ReactElementChildren` class and replace usages with `ReactNode` class as they are equivalent.
* ðŸ’¥ **\[core\]** Add support for the `componentDidCatch` lifecycle method introduced in React 16.
* ðŸ’¥ **\[core\]** Removed `Component.renderAsElement()` as `ReactElement` now implements `ReactNode` and thus
  `Component.render()` is a better alternative.
* ðŸ’¥ **\[core\]** Removed `Component.renderAsString()` as it is trivial to wrap a string in a `ReactNode`.
* ðŸ’¥ **\[processor\]** Update the annotation processor so that the enhanced component classes generate the `_create`
  methods with a return type of `ReactNode`.
* ðŸ’¥ **\[core\]** Add nullability annotations onto `ReactElement`.
* ðŸ’¥ **\[core\]** Reduce the number of type parameters required to implement `ComponentConstructorFunction`. As a
  result make the `NativeComponent` class public.
