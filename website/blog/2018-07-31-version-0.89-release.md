---
title: React4j 0.89 released
author: React4j Project
authorURL: https://github.com/react4j
---

[Full Changelog](https://github.com/react4j/react4j/compare/v0.88...v0.89)

Changes in this release:

* **\[arez\]** Update the `org.realityforge.arez` dependencies to version `0.103`.
* **\[dom\]** Improve the documentation of `react4j.dom.proptypes.html.RefConsumer` to clarity that the
  element is nullable.
* **\[arez\]** Skip checking of state in `ReactArezComponent.shouldComponentUpdate()` unless
  `ReactArezConfig.shouldStoreArezDataAsState()` returns `true`. State is not used in subclasses of
  `ReactArezComponent` except during development to simplify debugging. Eliminating the check reduces a
  small amount of code in production mode.
* **\[arez\]** Replace `reportPropsChanged(...)` with `shouldComponentUpdate(...)` on the `ReactArezComponent`
  class so that subclasses can control whether a prop change should update component rather than just reporting
  a prop change as an arez change.
* **\[processor\]** Avoid generating an empty `shouldComponentUpdate(...)` if there are no props to check and
  instead add a concrete implementation on the `ReactArezComponent` class. This reduces the code size of compiled
  output.
* **\[core\]** Add the `shouldUpdateOnChange` parameter to the `@Prop` annotation that will determine if the
  `@Prop` needs to be checked as part of the `shouldComponentUpdate(...)` lifecycle method.
* **\[arez\]** Mark all props as `@Observable(readOutsideTransaction=true)` so that the props can be read outside
  of an arez transaction. It is not uncommon for callbacks to access props but no other arez elements. Marking
  props as `readOutsideTransaction=true` eliminates the need to add aditional `@Action` annotations everywhere.
* **\[dom\]** Remove the `ReactDOM.createElement(...)` overlay methods. The methods simply delegate to the
  equivalent method on the `React` class. This level of indirection is no longer required.
* **\[dom\]** Add `DOM.<element>(..., JsArray<ReactNode> children)` methods. These constructions are useful when
  creating elements where you do not want the overhead of Java collections.
* **\[dom\]** Add `DOM.thead(...)` and `DOM.tbody(...)` element factory methods.
* **\[arez\]** Configure the `ReactArezComponent.trackRender()` method so that it can observe lower priority
  dependencies. This is useful when `@Computed` properties are accessed from within the `render()` method. If
  the `@Computed` is a lower priority than render (which is `LOW`) then it will not be recalculated if the render
  method ceases to observe the value. This is of particular relevance as the render method will cease to observe
  all computeds if a `@Prop` is disposed as render will return a `null`. Thus if the `@Computed` also depends upon
  the prop and is not referenced by an autorun within the class then it need not check whether the prop is disposed.
* **\[dom\]** Add `DOM.fragment(...)` method aliases for `React.createFragment(...)` methods.
* **\[core\]** Introduce the `react4j.Key` class and support either an integer or string `key` prop in the builders
  generated by the annotation processor and the `DOM` factory methods.
