---
title: React4j 0.114 released
author: React4j Project
authorURL: https://github.com/react4j
---

[Full Changelog](https://github.com/react4j/react4j/compare/v0.113...v0.114)

Changes in this release:

* **\[core\]** Merge the `react4j-arez` artifact into `react4j-core` as the `react4j-core` artifact has never
  been used without also using `react4j-arez` in any production application.
* **\[core\]** Move the `ObservableValue` introspection utilities from `ReactArezComponent` into the new utility
  class `react4j.internal.arez.IntrospectUtil` as the code is not expected to be used by end-user code.
* **\[core\]** Move the `Observer` introspection utilities from `ReactArezComponent` into the new utility
  class `react4j.internal.arez.IntrospectUtil` as the code is not expected to be used by end-user code.
* **\[core\]** Extract some utility code out of `ReactArezComponent` into a new utility
  class `react4j.internal.arez.SchedulerUtil` as the code is not expected to be used by end-user code.
* **\[processor\]** Classes that extend `react4j.Component` but not `react4j.arez.ReactArezComponent` are now
  generated as `@ArezComponent(allowEmpty=true)` annotated classes. This means that the normal arez lifecycle
  methods (i.e. those annotated with `@PostConstruct`, `@PreDispose`, `@PostDispose` etc.) are available to all
  react4j components as are helper annotations such as `@CascadeDispose`. This removes the need to implement
  parallel capabilities into the react4j annotation processor and significantly simplifies integration with
  the injection framework.
* **\[core\]** Move `ReactArezComponent.getArezComponentId()` to `Component.getComponentId()` and
  `ReactArezComponent.getArezComponentName()` to `Component.getComponentName()` so that the methods are available
  to all react components.
* **\[arez\]** Update the `org.realityforge.arez` dependencies to version `0.127`.
* **\[core\]** Guard the data emitted as debug state to ensure that all the required compile time properties are
  set to `true` before emitting debug values. This includes `react4j.store_debug_data_as_state` as well as the
  associated Arez compile time properties `arez.enable_spies` and/or `arez.enable_names`. This ensures that these
  compile time properties can be controlled independently while ensuring unused code is optimized out.
* **\[processor\]** Fix bug where the enhanced component classes would trigger the Arez scheduler twice if there
  was any schedulable elements that were part of the component. The second trigger would result in no action as
  there would be no pending tasks but it did result in more code being generated than required. Removing the custom
  react4j triggering resulted in reduced code size where this feature was used.
* **\[processor\]** Fix bug where the enhanced component classes with fields annotated with `@Dependency` would
  trigger at the incorrect time and potentially result in null pointer exceptions.
* **\[processor\]** Allow Arez annotations on react components that do not extend `ReactArezComponent` as there
  is no longer any reason to disallow that scenario.
* **\[core\]** Remove the `ReactArezComponent.getContext()` as it is no longer required within react4j. Users can
  add a similar method back in, if/when it is needed.
* **\[core\]** Remove the constructor in `ReactArezComponent` as it was only overridden to make it protected
  access but the class is abstract so can never be directly instantiated and thus the override had no impact.
* **\[processor\]** Generate the `populateDebugData(data)` method for components that extend the `ReactArezComponent`
  class rather than inheriting implementation from `ReactArezComponent`. The purpose is to make it easier to remove
  `ReactArezComponent` and use the compiler to optimize away unneeded code.
* **\[processor\]** Move the `ReactArezComponent.getRenderObserver()` method into the generated class as user code
  does not need access to the raw Observer instance.
* **\[core\]** Re-add the `Component.scheduleRender()` method that takes no parameters.
* **\[processor\]** Move the remaining logic in `ReactArezComponent` to classes generated by the annotation
  processor in preparation for removing `ReactArezComponent` and also enabling better optimization by the GWT
  and J2CL compilers.
* Archive the `react4j-widget` library as there is no desire or need to continue supporting it. While the library
  will likely continue to work, the project will not verify this going forward.
* **\[processor\]** Remove `react4j.internal.NativeAdapterComponent` and have the annotation processor generate
  the required infrastructure per-component. This affords more opportunities for the optimizing compilers to eliminate
  unused code and simplifies understanding of the generated classes.
* **\[core\]** Remove the `dagger` parameter from `@ReactComponent` as the framework has not supported alternative
  injection frameworks for a while and thus the parameter provided no actual value.
* **\[core\]** Completely rewrite the injection framework support is generated to use infrastructure supplied by
  the Arez component model now that all react4j components are Arez components.
* **\[core\]** Convert `Component.bindComponent()` to protected access and add invariant check to verify that it is
  not called multiple times.
* **\[core\]** Remove lifecycle method `Component.componentDidCatch(...)` and replace with annotation `@OnError`.
* **\[processor\]** Move from `Disposable.dispose( this )` to `((Arez_MyComponent) this).dispose()` so that the
  optimizing compiler can inline the method where possible.
* **\[core\]** Change `ReactElement.createFragment(...)` and `React.createFragment(...)` methods to accept a
  nullable key parameter and add add a factory method in `react4j.dom.DOM` that accepts a key. Keys are valid on
  fragment nodes and the code has been change to reflect this.
* **\[core\]** Add initial support for `<Suspense/>` component.
* **\[dom\]** Add support for `ReactDOM.createRoot(...)` as the first step for enabling usage of concurrent mode.
* **\[core\]** Add the `immutable` parameter to the `@Prop` annotation. If set to true then the react component
  will be recreated if the value of the prop changes. This is accomplished by synthesizing a key for the component
  from the set of immutable props. If any prop has been marked as immutable then it will no longer possible for the
  developer to manually specify the key parameter.
* **\[core\]** The error message from annotation processor when a user defines a prop named `key` suggested using
  a method that does not exist and has not worked since upgraded to React 16+ so update the error message.
* **\[core\]** Remove `React.createFragment()` in favour of directly calling `ReactElement.createFragment()`.
* **\[core\]** Remove every variant of `React.createElement(...)`. The code and/or behaviour has been inlined into
  the `DOM` factory methods to aid code optimization process.
* **\[core\]** Move `React.createStrictMode(...)` to `ReactElement.createStrictMode(...)`.
* **\[core\]** Remove the `ReactArezComponent` class and replace it with the `type` parameter on the
  `@ReactComponent` annotation. The possible values for `type` are:
  - `STATEFUL`: The component can use fields or lifecycle methods.
  - `TRACKING`: The component is `STATEFUL` and the render method is annotated with `@Observe` and will
    re-render when a dependency changes.
  - `MAYBE_TRACKING`: The component is `TRACKING` but the render method may have zero dependencies.
* **\[core\]** Remove the `allowNoArezDeps` parameter from the `@ReactComponent` annotation as it no longer
  provides any value over `MAYBE_TRACKING` components.
* **\[core\]** Add support for `@Prop(disposable=ENABLE)` props in `@ReactComponent(type=STATEFUL)` components
  and update `@Prop(disposable=AUTODETECT)` to resolve correctly detect disposable props even in `STATEFUL`
  components.
* **\[core\]** Add support for `@Prop(observable=ENABLE)` props in `@ReactComponent(type=STATEFUL)` components
  and update `@Prop(disposable=AUTODETECT)` to resolve correctly detect observable props even in `STATEFUL`
  components. See javadocs for further details.
* **\[processor\]** Remove an "optimization" that resulted in the `shouldComponentUpdate()` react lifecycle being
  omitted if all the props were `observable=DISABLE` and `shouldUpdateOnChange=ENABLE`.
